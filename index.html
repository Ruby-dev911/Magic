<!DOCTYPE html>
<html lang= "eng">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./styles.css" type="text/css" rel="stylesheet"> 
    <script>
          const consoleProxy = new Proxy(console, {
            get(target, prop) {
              if (typeof target[prop] === "function") {
                return (...args) => {
                  try {
                    window.parent.postMessage(
                      { typ: "console", prop, args },
                      "*"
                    );
                  } catch {
                    try {
                      window.parent.postMessage(
                        {
                          typ: "console",
                          prop,
                          args: args.map((x) => {
                            try {
                              window.structuredClone(x);
                              return x;
                            } catch {
                              return { _MDNPlaySerializedObject: x.toString() };
                            }
                          }),
                        },
                        "*"
                      );
                    } catch {
                      window.parent.postMessage(
                        {
                          typ: "console",
                          prop: "warn",
                          args: [
                            "[Playground] Unsupported console message (see browser console)",
                          ],
                        },
                        "*"
                      );
                    }
                  }
                  target[prop](...args);
                };
              }
              return target[prop];
            },
          });

          window.console = consoleProxy;
          window.addEventListener("error", (e) => console.log(e.error));
        </script>
        
        <script>
              /** @param {string} code */
              function setChoice(code) {
                const element = document.getElementById("example-element");
                if (element) {
                  element.style.cssText = code;
                }
              }

              window.addEventListener("message", ({ data }) => {
                if (data.typ === "choice") {
                  setChoice(data.code);
                }
              });
            </script>
  </head>
<body>
  <section>
  <div class="transition all" id="example-element" style="transform: rotate3d(2, -1, -1, -0.2turn);">
    <div class="face front">1</div>
    <div class="face back">2</div>
    <div class="face right">3</div>
    <div class="face left">4</div>
    <div class="face top">5</div>
    <div class="face bottom">6</div>
  </div>
  </section>
   <script type="">
          setChoice("transform: rotate3d(0, 0, 0, 0);");
        </script>
        <script>
          try {
            window.parent.postMessage({ typ: "ready" }, "*");
          } catch (e) {
            console.error("[Playground] Failed to post ready message", e);
          }
        </script>
</body>
</html>
